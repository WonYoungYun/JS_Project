<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <title>JavaScript</title>
</head>
<body>
<div>
    <header>
        <h1><a href="../../index.html">JavaScript</a></h1>
        <ol id="nav1">

        </ol>
    </header>
    <section>
        <h2>글목록 Ajax</h2>
        <input type="button" value="Click" onclick="fetchList()">
    </section>
    <script>
        function fetchList(){
            fetch('list').then(function(response){response.text().then(function(text){
                var items = text.split(',');
                var i =0;
                var tags ='';
                while(i<items.length){
                    var item = items[i];
                    item = item.trim();
                    var tag = '<li><a href="#!'+item+'" onclick="fetchPage(\''+item+'\')">' + item + '</li>';
                    tags = tags + tag;
                    i = i+1;
                }
                document.querySelector('#nav1').innerHTML = tags;
                })
            })
        }
    </script>

    <p><a href="https://caniuse.com/" target="_blank">Can I Use</a></p>
    <footer>
        <p><a href="..//js.html#!ajax/ajax.html">이전</a></p>
    </footer>
</div>
</body>
</html>